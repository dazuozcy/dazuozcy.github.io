---
layout: post
title: "技巧"
author: dazuo
date: 2020-07-01 20:19:00 +0800
categories: [数据结构与算法]
tags: [Data Structure]
math: true
mermaid: true
---

# 数字处理

这种还需要考虑各种corner case. 面向用例编程。

[7. 整数反转](https://leetcode-cn.com/problems/reverse-integer/)

[9. 回文数](https://leetcode-cn.com/problems/palindrome-number/)

[50. Pow(x, n)](https://leetcode-cn.com/problems/powx-n/)

[66. 加一](https://leetcode-cn.com/problems/plus-one/)

[67. 二进制求和](https://leetcode-cn.com/problems/add-binary/)

[136. 只出现一次的数字](https://leetcode-cn.com/problems/single-number/)

[137. 只出现一次的数字 II](https://leetcode-cn.com/problems/single-number-ii/)

[172. 阶乘后的零](https://leetcode-cn.com/problems/factorial-trailing-zeroes/)

[191. 位1的个数](https://leetcode-cn.com/problems/number-of-1-bits/)

[231. 2 的幂](https://leetcode-cn.com/problems/power-of-two/)

[258. 各位相加](https://leetcode-cn.com/problems/add-digits/)

[342. 4的幂](https://leetcode-cn.com/problems/power-of-four/)

[504. 七进制数](https://leetcode-cn.com/problems/base-7/)

[564. 寻找最近的回文数](https://leetcode-cn.com/problems/find-the-closest-palindrome/)

[633. 平方数之和](https://leetcode-cn.com/problems/sum-of-square-numbers/)

[1317. 将整数转换为两个无零整数的和](https://leetcode-cn.com/problems/convert-integer-to-the-sum-of-two-no-zero-integers/)

[1318. 或运算的最小翻转次数](https://leetcode-cn.com/problems/minimum-flips-to-make-a-or-b-equal-to-c/)

[1342. 将数字变成 0 的操作次数](https://leetcode-cn.com/problems/number-of-steps-to-reduce-a-number-to-zero/)

[1492. n 的第 k 个因子](https://leetcode-cn.com/problems/the-kth-factor-of-n/)

[1518. 换酒问题](https://leetcode-cn.com/problems/water-bottles/)



## Brian Kernighan 算法

`Brian Kernighan`(布赖恩·克尼根)算法，该算法可以被描述为这样一个结论：

记 $f(x)$ 表示 $x$ 和 $x-1$ 进行**按位与**所得的结果，即$f(x)=x \ \& \ (x−1)$，那么 $f(x)$ 恰为 $x$ 删去其二进制表示中最右侧的 $1$ 的结果。

[461. 汉明距离](https://leetcode-cn.com/problems/hamming-distance/)



# 位运算

[693. 交替位二进制数](https://leetcode-cn.com/problems/binary-number-with-alternating-bits/)

考虑位操作+不用循环。



# 模拟

**[6. Z 字形变换](https://leetcode-cn.com/problems/zigzag-conversion/)**

找规律的解题思路:

- `V`字型循环周期为`period=(2*numRows-2)`
- 对于`s`的第`i`个字符，其在周期中的位置为`id=i%period`
- 行号`row_id=min(id, period-id)`

```c++
class Solution {
public:
    string convert(string s, int numRows) {
        if (numRows == 1) {
            return s;
        }

        vector<string> buff(numRows);
        int period = 2 * numRows - 2;
        for (int i = 0; i < s.size(); i++) {
            int id = i % period;
            int row_id = min(id, period - id);  // 巧妙构造V字型索引
            buff[row_id] += s[i];
        }

        string ans;
        for (auto &str : buff) {
            ans += str;
        }
        return ans;
    }
};
```



[48. 旋转图像](https://leetcode-cn.com/problems/rotate-image/)

[54. 螺旋矩阵](https://leetcode-cn.com/problems/spiral-matrix)

[57. 插入区间](https://leetcode-cn.com/problems/insert-interval/)

[59. 螺旋矩阵 II](https://leetcode-cn.com/problems/spiral-matrix-ii/)

[393. UTF-8 编码验证](https://leetcode-cn.com/problems/utf-8-validation/)

[415. 字符串相加](https://leetcode-cn.com/problems/add-strings/)

[537. 复数乘法](https://leetcode-cn.com/problems/complex-number-multiplication/)

[541. 反转字符串 II](https://leetcode-cn.com/problems/reverse-string-ii/)

[551. 学生出勤记录 I](https://leetcode-cn.com/problems/student-attendance-record-i/)

[566. 重塑矩阵](https://leetcode-cn.com/problems/reshape-the-matrix/)

[832. 翻转图像](https://leetcode-cn.com/problems/flipping-an-image/)

[1313. 解压缩编码列表](https://leetcode-cn.com/problems/decompress-run-length-encoded-list/)

[1324. 竖直打印单词](https://leetcode-cn.com/problems/print-words-vertically/)

[1404. 将二进制表示减到 1 的步骤数](https://leetcode-cn.com/problems/number-of-steps-to-reduce-a-number-in-binary-representation-to-one/)

[1535. 找出数组游戏的赢家](https://leetcode-cn.com/problems/find-the-winner-of-an-array-game/)

[1556. 千位分隔数](https://leetcode-cn.com/problems/thousand-separator/)

[1560. 圆形赛道上经过次数最多的扇区](https://leetcode-cn.com/problems/most-visited-sector-in-a-circular-track/)

[1573. 分割字符串的方案数](https://leetcode-cn.com/problems/number-of-ways-to-split-a-string/)

[1606. 找到处理最多请求的服务器](https://leetcode-cn.com/problems/find-servers-that-handled-most-number-of-requests/)

[1706. 球会落何处](https://leetcode-cn.com/problems/where-will-the-ball-fall/)



# 双指针

[11. 盛最多水的容器](https://leetcode-cn.com/problems/container-with-most-water/)

双指针法流程：

- 初始化： 双指针`left`, `right`表示水槽左右两端；

- 循环收窄： 直至双指针相遇时跳出；

  - 更新面积最大值`ans` ；

  - 选定两板高度中的短板，向中间收窄一格；

    面积公式`(right-left)*min(height[left], height[right])`。在每个状态下，无论长板或短板向中间收窄一格，都会导致水槽底边宽度变短1：

    - 若向内移动短板 ，水槽的短板`min(height[left], height[right])`可能变大，因此下个水槽的面积可能增大 。
    - 若向内移动长板 ，水槽的短板`min(height[left], height[right])`不变或变小，因此下个水槽的面积一定变小 。

- 返回值： 返回面积最大值 `ans` 



[19. 删除链表的倒数第 N 个结点](https://leetcode-cn.com/problems/remove-nth-node-from-end-of-list/)

[26. 删除有序数组中的重复项](https://leetcode-cn.com/problems/remove-duplicates-from-sorted-array/)

[27. 移除元素](https://leetcode-cn.com/problems/remove-element/)

[28. 实现 strStr()](https://leetcode-cn.com/problems/implement-strstr/)

[42. 接雨水](https://leetcode-cn.com/problems/trapping-rain-water/)

[61. 旋转链表](https://leetcode-cn.com/problems/rotate-list/)

[75. 颜色分类](https://leetcode-cn.com/problems/sort-colors/)

[88. 合并两个有序数组](https://leetcode-cn.com/problems/merge-sorted-array/)

[125. 验证回文串](https://leetcode-cn.com/problems/valid-palindrome/)

[141. 环形链表](https://leetcode-cn.com/problems/linked-list-cycle/)

[142. 环形链表 II](https://leetcode-cn.com/problems/linked-list-cycle-ii/)

[151. 翻转字符串里的单词](https://leetcode-cn.com/problems/reverse-words-in-a-string/)

[283. 移动零](https://leetcode-cn.com/problems/move-zeroes/)

[344. 反转字符串](https://leetcode-cn.com/problems/reverse-string/)

[557. 反转字符串中的单词 III](https://leetcode-cn.com/problems/reverse-words-in-a-string-iii/)

[611. 有效三角形的个数](https://leetcode-cn.com/problems/valid-triangle-number/)

[674. 最长连续递增序列](https://leetcode-cn.com/problems/longest-continuous-increasing-subsequence/)

[941. 有效的山脉数组](https://leetcode-cn.com/problems/valid-mountain-array/)





# 滑动窗口

所谓滑动窗口，就是不断地调节子序列的起始位置和终止位置，从而得出想要的结果。

实现滑动窗口，主要确定如下三点：

- 窗口内是什么？
- 如何移动窗口的起始位置？
- 如何移动窗口的结束位置？

[3. 无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)





[209. 长度最小的子数组](https://leetcode-cn.com/problems/minimum-size-subarray-sum/)

针对本题：

- 窗口内：就是满足其和`≥s`的长度连续子数组
- 窗口起始位置如何移动：若当前窗口的值＞s了，窗口起始位置就要向前移动(即缩小窗口的大小)。可以通过while循环更新左指针。
- 窗口结束位置如何移动：窗口的结束位置就是遍历数组的指针。

[862. 和至少为 K 的最短子数组](https://leetcode-cn.com/problems/shortest-subarray-with-sum-at-least-k/)

[978. 最长湍流子数组](https://leetcode-cn.com/problems/longest-turbulent-subarray/)

[1004. 最大连续1的个数 III](https://leetcode-cn.com/problems/max-consecutive-ones-iii/)

[1052. 爱生气的书店老板](https://leetcode-cn.com/problems/grumpy-bookstore-owner/)

[1208. 尽可能使字符串相等](https://leetcode-cn.com/problems/get-equal-substrings-within-budget/)

[1343. 大小为 K 且平均值大于等于阈值的子数组数目](https://leetcode-cn.com/problems/number-of-sub-arrays-of-size-k-and-average-greater-than-or-equal-to-threshold/)

[1423. 可获得的最大点数](https://leetcode-cn.com/problems/maximum-points-you-can-obtain-from-cards/)

[2024. 考试的最大困扰度](https://leetcode-cn.com/problems/maximize-the-confusion-of-an-exam/)



# 中心扩展

[5. 最长回文子串](https://leetcode-cn.com/problems/longest-palindromic-substring/)

[647. 回文子串](https://leetcode-cn.com/problems/palindromic-substrings/)



# 序列带优先级排序

比如，(w1,h1), (w2, h2), (w3, h3), (w4, h4)

对w按照升序排列，对h按照降序排列。

[354. 俄罗斯套娃信封问题](https://leetcode-cn.com/problems/russian-doll-envelopes/)

1. 首先将所有的信封按照ww值第一关键字升序，hh值第二关键字降序进行排列
2. 随后就可以忽略ww维度，求出hh维度的最长严格递增子序列，其长度即为答案。

[406. 根据身高重建队列](https://leetcode-cn.com/problems/queue-reconstruction-by-height/)



# 前缀

[1310. 子数组异或查询](https://leetcode-cn.com/problems/xor-queries-of-a-subarray/)

[1523. 在区间范围内统计奇数数目](https://leetcode-cn.com/problems/count-odd-numbers-in-an-interval-range/)

[2100. 适合打劫银行的日子](https://leetcode-cn.com/problems/find-good-days-to-rob-the-bank/)

## 一维数组前缀和

[209. 长度最小的子数组](https://leetcode-cn.com/problems/minimum-size-subarray-sum/)

[238. 除自身以外数组的乘积](https://leetcode-cn.com/problems/product-of-array-except-self/)

[724. 寻找数组的中心下标](https://leetcode-cn.com/problems/find-pivot-index/)

[1685. 有序数组中差绝对值之和](https://leetcode-cn.com/problems/sum-of-absolute-differences-in-a-sorted-array/)

[2121. 相同元素的间隔之和](https://leetcode-cn.com/problems/intervals-between-identical-elements/)



## 二维数组前缀和

[304. 二维区域和检索 - 矩阵不可变](https://leetcode-cn.com/problems/range-sum-query-2d-immutable/)

[1314. 矩阵区域和](https://leetcode-cn.com/problems/matrix-block-sum/)



# 差分数组

前缀和的应用场景，需要对某个区间频繁查询累计和，避免每次查询都遍历这个区间。

差分数组的应用场景，需要对某个区间频繁加或减某一值，避免每次都遍历这个区间。区间变端点。

[798. 得分最高的最小轮调](https://leetcode-cn.com/problems/smallest-rotation-with-highest-score/)

[1094. 拼车](https://leetcode-cn.com/problems/car-pooling/)

数组子区间增减问题

[1109. 航班预订统计](https://leetcode-cn.com/problems/corporate-flight-bookings/)



# 区间类问题

[56. 合并区间](https://leetcode-cn.com/problems/merge-intervals/)

[57. 插入区间](https://leetcode-cn.com/problems/insert-interval/)

[435. 无重叠区间](https://leetcode-cn.com/problems/non-overlapping-intervals/)

[452. 用最少数量的箭引爆气球](https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons/)



# 前缀最小值

[1380. 矩阵中的幸运数](https://leetcode-cn.com/problems/lucky-numbers-in-a-matrix/)

[2016. 增量元素之间的最大差值](https://leetcode-cn.com/problems/maximum-difference-between-increasing-elements/)

当固定`j`时，选择的下标`i`一定是满足`0 ≤ i < j` 并且`nums[i]`最小的那个`i`。因此可以使用循环对`j`进行遍历，同时维护 `nums[0..j−1]`的前缀最小值，记为`premin`。这样一来：

- 如果`nums[i] > premin`，那么就用`nums[i]−premin`对答案进行更新；

- 否则，用`nums[i]`来更新前缀最小值`premin`。

```cpp
class Solution {
public:
    int maximumDifference(vector<int>& nums) {
        int n = nums.size();
        int ans = -1;
        int pre_min = nums[0];
        for (int i = 1; i < n; ++i) {
            if (nums[i] > premin) {
                ans = max(ans, nums[i] - pre_min);
            } else {
                pre_min = nums[i];
            }
        }
        return ans;
    }
};
```

有了上面的基础，理解下面的这题就稍微轻松点

[1014. 最佳观光组合](https://leetcode-cn.com/problems/best-sightseeing-pair/)



# 脑筋急转弯

[292. Nim 游戏](https://leetcode-cn.com/problems/nim-game/)

[319. 灯泡开关](https://leetcode-cn.com/problems/bulb-switcher/)

[553. 最优除法](https://leetcode-cn.com/problems/optimal-division/)

[2038. 如果相邻两个颜色均相同则删除当前颜色](https://leetcode-cn.com/problems/remove-colored-pieces-if-both-neighbors-are-the-same-color/)

