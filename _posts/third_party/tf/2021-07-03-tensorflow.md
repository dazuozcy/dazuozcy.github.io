---
layout: post
title: "TensorFlow"
author: dazuo
date: 2020-07-03 20:19:00 +0800
categories: [TensorFlow]
tags: [TensorFlow]
math: true
mermaid: true
---



`TensorFlow` `v1`下，训练一个`TF`模型有三个步骤：

- 定义输入和模型结构
- 创建`tf.Session`实例`sess`
- 执行`sess.run()`启动训练



静态图

静态图采用**声明式**编程范式（先编译后执行），根据前端语言（如python）描述的神经网络结构和参数信息构建固定的静成计算图，静态图在执行期间不依赖前端语言，而是由TF框架负责调度执行，因此非常**适合做神经网络模型的部署**。用户定义的静态图经序列化后用`GraphDef`表达，其包含的信息有：网络连接、参数设置、损失函数、优化器等。



动态图

动态图采用**命令式**编程范式，即编译与执行同时发生。动态图采用前端语言的解释器对用户代码进行解析，然后利用TF框架的算子分发功能，使得算子立即执行并向前端返回计算结果。当模型接收输入数据后，TF开始动态生成图拓扑结构，添加输入节点并将数据传输给后续节点。如果动态图中含有条件控制逻辑，会立即计算逻辑判断结果并确定后续数据流向，因此动态图完整的拓扑结构在执行前是未知的。另外，当模型根据新的batch训练时，原有的图结构则失效，必须根据输入和控制条件重新生成图结构。

